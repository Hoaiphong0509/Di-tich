<div class="row" *ngIf="member">
  <div class="col-4">
    <h1>Hồ sơ của bạn</h1>
  </div>
  <div class="col-8">
    <div class="alert alert-info" *ngIf="editForm.dirty">
      <p><strong>Information: </strong>Những thao tác bạn chưa lưu sẽ mất</p>
    </div>
  </div>
  <div class="col-4">
    <div class="card">
      <img src="{{member.avatarUrl || './assets/user.png'}}" alt="{{member.knownAs || member.username}}" class="card-img-top img-thumbnail">
      <div class="card-body">
        <div class="text-center">
          <strong>Bút danh:</strong>
          &nbsp;&nbsp;{{member.knownAs}}
          <br>
          <strong>Thành Phố:</strong>
          &nbsp;&nbsp;{{member.address}}
          <br>
          <strong>Bài viết:</strong>
          &nbsp;&nbsp;{{member.relics.length}}
        </div>
      </div>
      <div class="card-footer text-center">
        <button form="editForm" [disabled]="!editForm.dirty" type="submit" class="btn btn-success">Lưu thay đổi</button>
      </div>
    </div>
  </div>

  <div class="col-8">
    <tabset class="member-tabset">
      <tab heading='Thông tin chung'>
        <form #editForm="ngForm" id="editForm" (ngSubmit)="updateMember()">
          <div class="form-inline" style="margin-top: 2rem;">
            <label for="knownAs"><strong>Bút danh:</strong></label>
            <input [(ngModel)]="member.knownAs" type="text" name="knownAs" class="form-control mx-2">
            <label for="knownAs"><strong>Địa chỉ:</strong></label>
            <input [(ngModel)]="member.address" type="text" name="address" class="form-control mx-2">
          </div>
          <h1 class="mt-3">Giới thiệu: </h1>
          <textarea [(ngModel)]="member.bio" class="form-control p-4" name="bio" rows="8"></textarea>
        </form>
      </tab>
      <tab heading="Thay đổi ảnh đại diện">
        <app-avatar-editor [member]="member"></app-avatar-editor>
      </tab>
      <tab heading='Bài viết'>
        <app-relic-list-member [member]="member"></app-relic-list-member>
      </tab>
      <tab heading='Thay Đổi thông tin tài khoản'>
        <form #editAccountForm="ngForm" id="editAccountForm" (ngSubmit)="updateAccount()" autocomplete="off">
          <div class="form-group" style="margin-top: 2rem;">
            <label for="username"><strong>Tên tài khoản mới:</strong></label>
            <app-text-input [formControl]='loginForm.controls["username"]' [label]='"Tài khoản mới"'></app-text-input>
            <label for="password"><strong>Mật khẩu mới:</strong></label>
            <app-text-input [formControl]='loginForm.controls["password"]' [label]='"Mật khẩu mới"' [type]='"password"'></app-text-input>
            <label for="password"><strong>Mật khẩu xác nhận:</strong></label>
            <app-text-input [formControl]='loginForm.controls["confirmPassword"]' [label]='"Mật khẩu xác nhận"'[type]='"password"'></app-text-input>
          </div>
          <button class="btn btn-info btn-block" style="width: 85%;" [disabled]="!editAccountForm.dirty">Lưu</button>
        </form>
      </tab>
    </tabset>
  </div>
</div>
